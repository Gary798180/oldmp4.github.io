<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>复古MP4播放器 - 2008风格</title>
<style type="text/css">
/* 2008复古风格CSS */
body {
    background: #d0d0d0 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAABnSURBVHja7M5RDYAwDEXRDgmvEocnlrQS2SwUFST9uEfBGWs9c97nbGtDcquqiKhOImLs/UpuzVzWEi1atGjRokWLFi1atGjRokWLFi1atGjRokWLFi1afLUkx8QnrIDQk2l0ScGzAAAAAElFTkSuQmCC'); /* 经典灰色纹理背景 */
    font-family: Arial, sans-serif;
    color: #333;
    margin: 0;
    padding: 20px;
    text-align: center;
}

.container {
    width: 800px;
    margin: 0 auto;
    background: #fff;
    border: 1px solid #ccc;
    padding: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.header {
    background: linear-gradient(to bottom, #4a6baf, #2c4a8a);
    color: white;
    padding: 15px;
    border-radius: 5px 5px 0 0;
    margin-bottom: 20px;
    text-shadow: 1px 1px 1px #000;
}

.player-container {
    background: #f0f0f0;
    padding: 15px;
    border: 1px solid #ccc;
    margin: 0 auto 20px;
    width: 640px;
}

.video-player {
    width: 640px;
    height: 360px;
    background: #000;
    margin: 0 auto;
    display: block;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="640" height="360" viewBox="0 0 640 360"><rect width="640" height="360" fill="black"/><text x="320" y="180" font-family="Arial" font-size="24" fill="white" text-anchor="middle">等待播放视频文件</text></svg>');
}

.player-controls {
    margin-top: 15px;
}

.btn {
    background: linear-gradient(to bottom, #f5f5f5, #e0e0e0);
    border: 1px solid #ccc;
    padding: 8px 15px;
    margin: 0 5px;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    border-radius: 3px;
    display: inline-block;
}

.btn:hover {
    background: linear-gradient(to bottom, #e0e0e0, #d0d0d0);
}

.btn-primary {
    background: linear-gradient(to bottom, #4a6baf, #2c4a8a);
    color: white;
    text-shadow: 1px 1px 1px #000;
    border: 1px solid #2c4a8a;
}

.playlist {
    width: 640px;
    margin: 20px auto;
    text-align: left;
    border: 1px solid #ccc;
    background: #fff;
}

.playlist-header {
    background: #e9e9e9;
    padding: 8px;
    font-weight: bold;
    border-bottom: 1px solid #ccc;
}

.playlist-item {
    padding: 8px;
    border-bottom: 1px solid #eee;
    cursor: pointer;
}

.playlist-item:hover {
    background: #f5f5f5;
}

.playlist-item.active {
    background: #e0edff;
    color: #2c4a8a;
    font-weight: bold;
}

.file-upload {
    background: #f8f8f8;
    border: 2px dashed #ccc;
    padding: 20px;
    margin: 20px auto;
    width: 600px;
    text-align: center;
}

.file-input {
    margin: 10px 0;
}

.file-name {
    font-size: 12px;
    color: #666;
    margin-top: 10px;
}

.footer {
    margin-top: 20px;
    color: #777;
    font-size: 12px;
}

/* 复古计数器 */
.counter {
    background: #000;
    color: #0f0;
    padding: 3px 5px;
    font-family: monospace;
    display: inline-block;
    margin-left: 10px;
}

/* 2008风格广告 */
.ad-banner {
    background: linear-gradient(to bottom, #ffffcc, #ffcc66);
    border: 1px solid #ff9900;
    padding: 10px;
    margin: 20px auto;
    width: 728px;
    height: 90px;
    text-align: center;
    font-weight: bold;
    color: #333;
}

/* 2008风格进度条 */
.progress-container {
    width: 640px;
    margin: 10px auto;
    background: #e0e0e0;
    height: 20px;
    border: 1px solid #ccc;
    position: relative;
}

.progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(to bottom, #4a6baf, #2c4a8a);
}

.time-display {
    position: absolute;
    top: 0;
    right: 5px;
    line-height: 20px;
    color: white;
    font-size: 12px;
    text-shadow: 1px 1px 1px #000;
}

/* 复古播放按钮 */
.play-btn {
    background: #4CAF50;
    border: none;
    color: white;
    padding: 8px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 5px;
    background: linear-gradient(to bottom, #5cb85c, #4cae4c);
}
</style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>复古MP4播放器</h1>
        <p>体验2008年的本地视频播放体验</p>
    </div>

    <div class="ad-banner">
        <marquee behavior="scroll" direction="left">免费MP4播放器下载！支持所有格式！立即点击获取！</marquee>
    </div>

    <div class="file-upload">
        <h3>选择本地MP4视频文件</h3>
        <input type="file" id="fileInput" class="file-input" accept=".mp4,.m4v">
        <div class="file-name" id="fileName">未选择文件</div>
        <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">浏览文件</button>
        <button class="btn btn-primary" id="playBtn" onclick="playSelectedFile()">播放视频</button>
    </div>

    <div class="player-container">
        <video id="videoPlayer" class="video-player" controls>
            您的浏览器不支持HTML5视频播放
        </video>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
            <div class="time-display" id="timeDisplay">00:00 / 00:00</div>
        </div>
        
        <div class="player-controls">
            <button class="btn" onclick="document.getElementById('videoPlayer').play()">播放</button>
            <button class="btn" onclick="document.getElementById('videoPlayer').pause()">暂停</button>
            <button class="btn" onclick="document.getElementById('videoPlayer').volume += 0.1">音量+</button>
            <button class="btn" onclick="document.getElementById('videoPlayer').volume -= 0.1">音量-</button>
            <button class="btn" onclick="toggleFullscreen()">全屏</button>
            <span class="counter">在线人数: 128</span>
        </div>
    </div>

    <div class="playlist">
        <div class="playlist-header">最近播放</div>
        <div class="playlist-item" id="recent1">暂无播放记录</div>
        <div class="playlist-item" id="recent2">暂无播放记录</div>
        <div class="playlist-item" id="recent3">暂无播放记录</div>
    </div>

    <div class="footer">
        <p>© 2008 RetroPlayer Inc. | 最佳浏览分辨率 1024x768 | 需要安装最新版Flash播放器</p>
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABY0lEQVQ4y52TvUoDQRSFv7m7SfSHtCBipVW0sLIRFETBQrC0iIWFjT+glXZWVj6AYGEnFv6A2FgoiGCh2EgUJRs3u3NnLNYkG9eNqAeGgTv3nDlz7jDGeGdZJtZaiqIgz3PyPCfLMowxFEVBnucYY8iy7C8QY8w4eZqmxHFMGIaEYUgURcRxTJqmjIwxY4VxHJMkCUopwjCkLEvKsiQMQ5RSSClJkgSt9Q+QUg6Tl2WJUgohBFJKtNZorRFCIIRASUmSJGitB0Cj0Rh2oJTCWkuWZRhjUEoNwLXWpGk6ABqNxncH1lqMMRhjSJJkCOCcQ2s9AFqt1rCDNE0xxmCtRUpJtVrFOYdzDqUUzjmazSZBEHwD1Ot1pJQ45wjDkFqtxu7uLru7u9RqNaIoQghBEAQ0m83vDnZ2dtjY2GB5eZmFhQXm5+eZm5tjZmaG6elpKpUKk5OTeJ7H+Pj4N8Da2hqzs7NMTU0xMTHB2NgYo6OjjIyM4Ps+vu/jed4QaHl5mY2NDVZXV1lYWGBubo6ZmRkmJyeZmJigXC5TKpUoFosUi8UBcHh4yNXVFefn55ycnHB0dMT+/j57e3vs7u6ys7PD9vY2W1tbbG5u/gV0Oh263S6dTod2u83T0xOPj488PDxwf3/P3d0dt7e33NzccH19/RfQ6/Xo9/v0ej3e3995e3vj9fWVl5cXnp+feXp64vHxkYeHB+7v7/8D3tR7ZCCi/QsAAAAASUVORK5CYII=" alt="Web 2.0 Validator">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABM0lEQVQ4y62TsUoDQRCGPxONoGAhFhYWPoGFjU8QfACfwc7CJ7C0tbG3sbG1EQsrIRZC0oSAZxaL3c3d7R0J+IFhduf+//9nZneCcw5VJYRAv9+n1+sxHA4REVJKqCrOOUQE5xzGGLIsYzQaYYzBGIMxBucc1lqstdR1TV3X5HlOURTUdU1ZloQQyPOcPM8xxlAUBd57vPc45zDGYK3FWouq4r1HVTHGYIwBIKVEURTEGEkpYa0lxkhKCeccIQSqqiKEgKqSUiLGiKoSYySlhPeeGCMxRlJKpJSo65oQAt57QghUVYWIYK1FRAghYK3lG0SEuq4REb5grUVV+Q8xRlSVb8QYSSnxDVVFVfkNVeUHqspvqCo/UFV+oKr8QFX5garSMMbQcM7RMMbQcM7RMMbQcM7xCSfX4c4Kp1e9AAAAAElFTkSuQmCC" alt="RSS Feed">
    </div>
</div>

<script type="text/javascript">
// 获取DOM元素
const videoPlayer = document.getElementById('videoPlayer');
const fileInput = document.getElementById('fileInput');
const fileName = document.getElementById('fileName');
const playBtn = document.getElementById('playBtn');
const progressBar = document.getElementById('progressBar');
const timeDisplay = document.getElementById('timeDisplay');
const recentItems = [
    document.getElementById('recent1'),
    document.getElementById('recent2'),
    document.getElementById('recent3')
];

// 最近播放历史
let recentFiles = [];

// 文件选择处理
fileInput.addEventListener('change', function(e) {
    if (this.files && this.files[0]) {
        const file = this.files[0];
        fileName.textContent = file.name;
        playBtn.disabled = false;
        
        // 添加到最近播放历史
        addToRecentFiles(file.name);
    }
});

// 播放选中的文件
function playSelectedFile() {
    if (fileInput.files && fileInput.files[0]) {
        const file = fileInput.files[0];
        const fileURL = URL.createObjectURL(file);
        
        videoPlayer.src = fileURL;
        videoPlayer.load();
        videoPlayer.play();
    }
}

// 添加文件到最近播放历史
function addToRecentFiles(name) {
    // 如果已经存在，先移除
    recentFiles = recentFiles.filter(file => file !== name);
    
    // 添加到开头
    recentFiles.unshift(name);
    
    // 只保留最近的3个
    if (recentFiles.length > 3) {
        recentFiles.pop();
    }
    
    // 更新UI
    updateRecentFilesUI();
}

// 更新最近播放UI
function updateRecentFilesUI() {
    for (let i = 0; i < recentItems.length; i++) {
        if (i < recentFiles.length) {
            recentItems[i].textContent = recentFiles[i];
            recentItems[i].onclick = function() {
                fileName.textContent = recentFiles[i];
                // 这里可以添加点击后自动播放的逻辑
            };
        } else {
            recentItems[i].textContent = "暂无播放记录";
            recentItems[i].onclick = null;
        }
    }
}

// 更新进度条
videoPlayer.addEventListener('timeupdate', function() {
    const percent = (videoPlayer.currentTime / videoPlayer.duration) * 100;
    progressBar.style.width = percent + '%';
    
    // 更新时间显示
    const currentTime = formatTime(videoPlayer.currentTime);
    const duration = formatTime(videoPlayer.duration);
    timeDisplay.textContent = currentTime + ' / ' + duration;
});

// 格式化时间 (秒 -> MM:SS)
function formatTime(seconds) {
    const min = Math.floor(seconds / 60);
    const sec = Math.floor(seconds % 60);
    return min.toString().padStart(2, '0') + ':' + sec.toString().padStart(2, '0');
}

// 全屏切换
function toggleFullscreen() {
    if (videoPlayer.requestFullscreen) {
        videoPlayer.requestFullscreen();
    } else if (videoPlayer.mozRequestFullScreen) {
        videoPlayer.mozRequestFullScreen();
    } else if (videoPlayer.webkitRequestFullscreen) {
        videoPlayer.webkitRequestFullscreen();
    } else if (videoPlayer.msRequestFullscreen) {
        videoPlayer.msRequestFullscreen();
    }
}

// 视频结束时重置
videoPlayer.addEventListener('ended', function() {
    progressBar.style.width = '0%';
    timeDisplay.textContent = '00:00 / 00:00';
});

// 初始化
playBtn.disabled = true;
</script>
</body>
</html>